/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{var t={890:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var o=n(81),r=n.n(o),i=n(645),s=n.n(i)()(r());s.push([t.id,'.title {\n  grid-column: 2;\n  text-align: center;\n}\n\nheader {\n  display: grid;\n  grid-template-columns: 20% 60% 20%;\n}\n\n#stats {\n  grid-column: 3;\n  border: 2px solid black;\n  padding: 5px;\n}\n\n#towers {\n  counter-reset: tower-counter 0;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: 80% 20%;\n  height: 90vh;\n}\n\n.hidden {\n  display: none;\n}\n\ndiv[data-tower-number] {\n  align-self: end;\n  bottom: 5px;\n  counter-increment: tower-counter 1;\n  grid-row: 1;\n}\n\n.count {\n  text-align: center;\n  grid-row: 2;\n}\n\n.count::before {\n  content: counter(tower-counter);\n}\n\nsvg {\n  bottom: 0;\n  display: block;\n  position: relative;\n  width: 100%;\n  height: auto;\n}\n\n#baloon {\n  position: absolute;\n  z-index: 100;\n  display: none;\n  border: 3px solid black;\n}\n\n#baloon.showing {\n  display: inline;\n}\n\n#baloon::after {\n  /* Add a triangle to the left edge */\n  content: "";\n\n  position: absolute;\n  right: 100%;\n\n  border: 10px solid black;\n\n  border-left-color: transparent;\n  border-right-color: black;\n  border-top-color: transparent;\n  border-bottom-color: transparent;\n\n  width: 0;\n  height: 0;\n\n  margin: 0 auto;\n}\n\n#settings {\n  margin: 5px;\n  border: 2px solid blue;\n}\n\n#licenses,\n#licenses:visited {\n  color: black;\n}\n',""]);const a=s},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);o&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},388:function(t){var e;e=()=>(()=>{"use strict";var t={"./node_modules/eventemitter3/index.js":t=>{var e=Object.prototype.hasOwnProperty,n="~";function o(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,o,i,s){if("function"!=typeof o)throw new TypeError("The listener must be a function");var a=new r(o,i||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,o,r=[];if(0===this._eventsCount)return r;for(o in t=this._events)e.call(t,o)&&r.push(n?o.slice(1):o);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t){var e=n?n+t:t,o=this._events[e];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,i=o.length,s=new Array(i);r<i;r++)s[r]=o[r].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,o=this._events[e];return o?o.fn?1:o.length:0},a.prototype.emit=function(t,e,o,r,i,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,o),!0;case 4:return l.fn.call(l.context,e,o,r),!0;case 5:return l.fn.call(l.context,e,o,r,i),!0;case 6:return l.fn.call(l.context,e,o,r,i,s),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,o);break;case 4:l[u].fn.call(l[u].context,e,o,r);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,o,r){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||r&&!a.once||o&&a.context!==o||s(this,i);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||r&&!a[c].once||o&&a[c].context!==o)&&u.push(a[c]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},"./src/time-clock.ts":(t,e,n)=>{n.r(e),n.d(e,{TimeClock:()=>r,default:()=>i});var o=n("./src/utils.ts"),r=function(){function t(t){void 0===t&&(t=0),this.time=t}return Object.defineProperty(t.prototype,"seconds",{get:function(){return Math.floor(this.time/1e3)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minutes",{get:function(){return Math.floor(this.time/6e4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hours",{get:function(){return Math.floor(this.time/36e5)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"days",{get:function(){return Math.floor(this.time/864e5)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remain",{get:function(){return this.distance?new t(this.distance.time-this.time):this.timeout?new t(this.timeout.time-this.time):null},enumerable:!1,configurable:!0}),t.prototype.setTimeout=function(e){return this.timeout=new t(e),this},t.prototype.setDistance=function(e,n){return this.startDate=e instanceof Date?e:new Date(e),this.endDate=n instanceof Date?n:new Date(n),this.distance=new t(this.endDate.getTime()-this.startDate.getTime()),this},t.prototype.toData=function(){var t=this.time;return{day:Math.floor(t/864e5),hour:Math.floor(t%864e5/36e5),min:Math.floor(t%36e5/6e4),sec:Math.floor(t%6e4/1e3),ms:t%1e3}},t.prototype.toTimeString=function(){var t=this.toData(),e=function(t){return(0,o.padStart)(t.toString(),2,"0")},n="";return t.day>0&&(n+="".concat(t.day,"d")),(n.length>0||t.hour>0)&&(n+=" ".concat(e(t.hour),"h")),(n.length>0||t.min>0)&&(n+=" ".concat(e(t.min),"m")),(n.length>0||t.sec>0)&&(n+=" ".concat(e(t.sec),"s")),(n+=" ".concat(t.ms,"ms")).trim()},t}();const i=r},"./src/utils.ts":(t,e,n)=>{function o(t,e,n){var o=e-t.length;return o>0?"".concat(i(n,o)).concat(t):t}function r(t,e,n){var o=e-t.length;return o>0?"".concat(t).concat(i(n,o)):t}function i(t,e){for(;t.length<e;)t+=t;return t.substring(0,e)}n.r(e),n.d(e,{padEnd:()=>r,padStart:()=>o})}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{n.r(o),n.d(o,{DuckTimer:()=>s,EventEmitter:()=>e.a,TimeClock:()=>r.default,default:()=>a});var t=n("./node_modules/eventemitter3/index.js"),e=n.n(t),r=n("./src/time-clock.ts"),i=function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},s=function(){function t(t){void 0===t&&(t={}),this.isPaused=!1,this.clock=new r.default,this.event=new(e()),this.option=this.getDefaultOption(),this.setOption(t)}return Object.defineProperty(t.prototype,"time",{get:function(){return this.clock.time},set:function(t){this.clock.time=t},enumerable:!1,configurable:!0}),t.prototype.getDefaultOption=function(){return{setTime:0,tick:10,interval:void 0,timeout:void 0,onInterval:void 0,onTimeout:void 0,countdownDate:void 0,eventName:{interval:"interval",timeout:"timeout"},enableAutoDelay:!0}},t.prototype.setOption=function(t){return void 0===t&&(t={}),this.option=i(i({},this.option),t),this.time=this.option.setTime,this.onInterval(this.option.onInterval),this.option.timeout&&this.setTimeout(this.option.timeout),this.onTimeout(this.option.onTimeout),this.option.countdownDate&&this.setCountdown(this.option.countdownDate),this},t.prototype.getClock=function(){return this.clock},t.prototype.getEventEmitter=function(){return this.event},t.prototype.setCountdown=function(t,e){return void 0===e&&(e=new Date),this.clock.setDistance(e,t),this},t.prototype.setInterval=function(t,e){return void 0===e&&(e=null),this.option.interval=t,this.onInterval(e)},t.prototype.onInterval=function(t){return"function"==typeof t&&this.event.on(this.option.eventName.interval,t),this},t.prototype.setTimeout=function(t,e){return void 0===e&&(e=null),this.option.timeout=t,this.clock.setTimeout(this.option.timeout),this.onTimeout(e)},t.prototype.onTimeout=function(t){return"function"==typeof t&&this.event.on(this.option.eventName.timeout,t),this},t.prototype.setDelay=function(t,e){return void 0===e&&(e=null),this.delay={time:t,callback:e},this},t.prototype.start=function(){this.isPaused&&(this.isPaused=!1),this.hasTick()||(this.prepareCountdown(),this.delay?setTimeout(this.onDelayTimeout.bind(this),this.delay.time):this.startTick())},t.prototype.stop=function(){this.isPaused=!0},t.prototype.reset=function(){this.clearTick(),this.isPaused=!1,this.time=0},t.prototype.tickProcess=function(){this.isPaused||(this.time+=this.option.tick,this.time%this.option.interval==0&&this.event.emit(this.option.eventName.interval,this.clock),this.clock.remain&&this.clock.remain.time<=0&&(this.event.emit(this.option.eventName.timeout,this.clock),this.clearTick()))},t.prototype.startTick=function(){this.tickIntervalId=setInterval(this.tickProcess.bind(this),this.option.tick)},t.prototype.clearTick=function(){clearInterval(this.tickIntervalId),this.tickIntervalId=null},t.prototype.hasTick=function(){return null!=this.tickIntervalId},t.prototype.onDelayTimeout=function(){this.clock.delayed=this.delay.time,"function"==typeof this.delay.callback&&this.delay.callback(this.clock),this.startTick()},t.prototype.prepareCountdown=function(){if(this.clock.distance){var t=this.clock.distance.time%this.option.interval||0;if(t>0&&this.option.enableAutoDelay){var e=this.clock;e.startDate.setTime(e.startDate.getTime()+t),e.setDistance(e.startDate,e.endDate),this.setDelay(t)}}},t}();const a=s})(),o})(),t.exports=e()},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var i={},s=[],a=0;a<t.length;a++){var c=t[a],u=o.base?c[0]+o.base:c[0],l=i[u]||0,d="".concat(u," ").concat(l);i[u]=l+1;var p=n(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var f=r(h,o);o.byIndex=a,e.splice(a,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=o(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var a=n(i[s]);e[a].references--}for(var c=o(t,r),u=0;u<i.length;u++){var l=n(i[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(){const t="0123456789ABCDEF";return"#"+Array(6).fill().map((()=>t[Math.floor(Math.random()*t.length)])).join("")}SVGSVGElement.prototype.setAttributeMulti=function(t){Object.entries(t).forEach((([t,e])=>this.setAttribute(t,e)))};const e=document.querySelectorAll("div[data-tower-number]"),o=document.getElementById("towers"),r=document.getElementById("baloon"),i=document.getElementById("settings-form"),s=document.getElementById("moves"),a=document.getElementById("time");class c extends Event{constructor(t,e){super(t),this._emitFrom=e}emit(){this._emitFrom.dispatchEvent(this)}}class u extends c{constructor(t,e,n){super("disk-moved",o),this.origin=t,this.destination=e,this.disk=n}}class l extends c{constructor(t){super("game-start",document.body),this.numDisks=t}}var d=n(388),p=n(379),h=n.n(p),f=n(795),m=n.n(f),v=n(569),y=n.n(v),g=n(565),b=n.n(g),w=n(216),k=n.n(w),x=n(589),T=n.n(x),D=n(890),_={};_.styleTagTransform=T(),_.setAttributes=b(),_.insert=y().bind(null,"head"),_.domAPI=m(),_.insertStyleElement=k(),h()(D.Z,_),D.Z&&D.Z.locals&&D.Z.locals;const E=new d.DuckTimer({interval:1e3});E.onInterval((({seconds:t})=>a.innerText=function(t){const e=new Date(null);return e.setSeconds(t),e.toISOString().substring(11,19).replace(/^[0:]+/,"")}(t))),o.addEventListener("click",(t=>{if("svg"!==t.target.parentNode.tagName)return;if(0!=t.target.parentNode.dataset.stackPos)return void r.classList.remove("showing");const e=t.target.parentNode.getBoundingClientRect();r.style.left=10+(e.left+e.width)+"px",r.style.top=e.top+.5*e.height+"px",r.dataset.originTower=t.target.parentNode.parentNode.dataset.towerNumber;const n=t.target.parentNode;!function(t,e){Array.from(t.children).forEach((t=>{const n=document.querySelector(`div[data-tower-number="${t.value}"`);t.disabled=!function(t,e){const n=Number(t.dataset.diskSize);return 0===e.children.length||n<function(t){return Number(t.firstChild.dataset.diskSize)}(e)}(e,n)}))}(r,n),r.classList.contains("showing")?r.classList.remove("showing"):r.classList.add("showing")})),o.addEventListener("disk-moved",(t=>{s.innerText=Number(s.innerText)+1})),i.addEventListener("submit",(t=>{t.preventDefault();const e=new FormData(t.target),n=Number(e.get("disk-number"));new l(n).emit()})),r.addEventListener("click",(t=>{"BUTTON"===t.target.tagName&&(function(t,e){const n=document.querySelector(`div[data-tower-number="${t}"]`),o=document.querySelector(`div[data-tower-number="${e}"]`),r=n.firstChild;r.remove(),0===o.children.length?o.appendChild(r):o.firstChild.before(r),new u(t,e,r).emit(),function(){const t=document.querySelectorAll("div[data-tower-number]");Array.from(t).map((t=>t.childNodes)).forEach((t=>{t.forEach(((t,e)=>{t.dataset.stackPos=e}))}))}()}(t.target.parentNode.dataset.originTower,t.target.value),t.target.parentNode.classList.remove("showing"))})),document.body.addEventListener("game-start",(n=>{var o,r;i.parentNode.classList.add("hidden"),o=n.numDisks,r=e[0],function(t=0,e,n=1){if(void 0===e&&(e=t,t=0),n>0&&t>=e||n<0&&t<=e)return[];const o=[];for(let r=t;n>0?r<e:r>e;r+=n)o.push(r);return o}(o,0,-1).reduce(((e,n)=>(e.appendChild(function(e,n){const o=100-10*e,r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"path");return s.setAttribute("d","M2,50 A50,10 0 0,0 98,50 A50,10 0 0,0 2,50 L2,75 A50,10,0 0,0 98,75 L98,50"),i.appendChild(s),i.setAttributeMulti({fill:t(),stroke:"black",preserveAspectRatio:"none",viewBox:"1.99999 42.8 96 39.4"}),i.dataset.stackPos=n-e,i.dataset.diskSize=n-e,i.style.transform=`scale(${.01*o})`,i.style.marginTop="-20%",i.style.zIndex=e,i}(n,o)),r)),r),E.start()}))})()})();